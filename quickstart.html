<html>
<head>
  <meta name="layout" content="_layout/main.html"/>
<#assign quickstart="active">
</head>
<body>

<div class="jumbotron mini">
  <div class="container">
    <h1>Quick start</h1>
  </div>
</div>

<div class="container">
    <div class="row">
      <div class="col-lg-9">

        <ul>
          <li><a href="#example-applications">Example applications</a></li>
          <li><a href="#get-ebean">Get Ebean</a></li>
          <li><a href="#setup-enhancement">Setup Enhancement</a></li>
          <li><a href="#create-model">Create Model</a></li>
          <li><a href="#configure">Configure</a></li>
          <li><a href="#use-ebeanserver">Use EbeanServer</a></li>
        </ul>

        <h2 id="example-applications">Example applications</h2>
        <p>
          There are a number of example applications on github that can be cloned from <a target="_blank" href="https://github.com/ebean-orm-examples">ebean-orm-examples</a>.
          Most of these examples are ready to run using H2 database so just clone them and then view and run the tests.
        </p>

        <p>
          <code><a target="_blank" href="https://github.com/ebean-orm-examples/example-java8">example-java8</a></code> is a pretty basic maven project.
        </p>
        <ul>
          <li><a target="_blank" href="https://github.com/ebean-orm-examples/example-java8/blob/master/src/main/resources/ebean.properties">Properties file configuration</a></li>
          <li><a target="_blank" href="https://github.com/ebean-orm-examples/example-java8/tree/master/src/main/java/org/example/domain">Entity beans (domain model)</a></li>
          <li><a target="_blank" href="https://github.com/ebean-orm-examples/example-java8/blob/master/src/main/java/org/example/service/LoadExampleData.java">Service to load example data</a></li>
        </ul>

        <p>
          <code><a target="_blank" href="https://github.com/ebean-orm-examples/example-springboot">example-springboot</a></code> is an example using Spring boot
          and has programmatic configuration of the EbeanServer instance.
        </p>

        <h2 id="get-ebean">Get Ebean</h2>
        <p>
          You'll need to add Ebean as dependency in you pom.xml.
        </p>

        <@maven "org.avaje.ebeanorm" "avaje-ebeanorm" "auto" "1" />

        <h2 id="setup-enhancement">Setup Enhancement</h2>
        <p>
          If you are using IntelliJ install the Ebean enhancement plugin. <a href="https://youtu.be/o4kmglM48Vc">Video - IntelliJ plugin install</a>
        </p>
        <p>
          Ebean requires that model beans to be enhanced by Ebean's enhancer. This can be done with at build time
          with your build tool, compile time using an IDE plugin or at runtime using a Java Agent.
        </p>
        <p>
          Refer to <a href="/docs/setup/enhancement">docs / setup / enhancement</a> for more details on enhancement.
        </p>


        <h3 id="create-model">Create model</h3>
        <p>
          Use JPA Mapping annotations (and javax bean validation annotations like <code>@Size</code> and <code>@NotNull</code> if you like).
        </p>

        ```java
        package org.example.model;

        import javax.persistence.*;

        @Entity
        @Table(name="eg_customer")
        public class Customer {

          @Id
          Long id;

          @Version
          Long version;

          @Column(length=100)
          String name;

          // plus getters and setters

        }
        ```

        </p>

        <h2 id="configure">Configure</h2>

        <p>
          Create an <code>test-ebean.properties</code> file and put it in <code>src/test/resources</code>. This properties file
          holds configuration that is used when Ebean runs tests (or when test-ebean.properties is in the class path).
        </p>

        <h4>test-ebean.properties</h4>
        ```properties

        ebean.ddl.generate=true
        ebean.ddl.run=true

        datasource.default=db

        datasource.db.username=sa
        datasource.db.password=
        datasource.db.databaseUrl=jdbc:h2:mem:tests
        datasource.db.databaseDriver=org.h2.Driver
        ```

        <p>
          Note that we can programatically configure and create EbeanServer instances using
          <a href="/docs/setup/serverconfig"><code>ServerConfig</code></a> and typically we want to
          do that when using <a href="/docs/setup/spring">Spring DI</a> or <a href="/docs/setup/guice">Guice DI</a>.
        </p>

        <h2 id="use-ebeanserver">Use EbeanServer</h2>
        <p>
          Now we are ready to write some code that gets an EbeanServer instance (or just use Ebean).
        </p>

        ```java
        import com.avaje.ebean.Ebean;
        import com.avaje.ebean.EbeanServer;
        ...

        Customer customer = new Customer();
        customer.setName("New customer");

        // Get the default server and save
        EbeanServer server = Ebean.getDefaultServer();
        server.save(customer);

        // or alternatively use Ebean
        Ebean.save(customer);

        // or alternatively if Customer extends com.avaje.ebean.Model
        // then customer has save()
        customer.save();

        ```

        <h4>Update</h4>
        ```java

        Customer customer = Ebean.find(Customer.class, 4);
        customer.setName("New updated name");
        Ebean.save(customer);

        ```
      </div>
    </div>
  </div>
</body>
</html>

<html>
<head>
  <title>Getting started | Ebean</title>
  <meta name="layout" content="_layout/docs_gettingstarted.html"/>
  <meta name="bread2" content="Kotlin" href="/docs/getting-started/kotlin-first-entity"/>
  <meta name="bread3" content="Finder" href="/docs/getting-started/kotlin-finder"/>
  <#assign kotlinfinder="active">
</head>
<body>

<h2>Finder</h2>
<div class="alert alert-info">
  We can use the <code>ebeaninit</code> command line tool to generate Finders for us.
</div>
<p>
  We can create and use a Finder for each of our entity beans, for example a CustomerFinder for the Customer
  entity bean. We do this to organise our code grouping all the "finder logic" for a given bean type into
  it's finder (so that everyone knows where it is).
</p>

<h4>e.g. CustomerFinder</h4>
<p>
  A CustomerFinder generated by the <code>ebeaninit</code> command line tool.
</p>
```java
package org.example.domain.finder

import io.ebean.Finder
import org.example.domain.Customer

open class CustomerFinder : Finder<Long, Customer>(Customer::class.java)

```
<p>
  When we generate Finders these are also linked to the entity via a public field.
  We can use <code>ebean-mocker</code> when we want to mock or stub the finders for
  testing purposes.
</p>

<h4>Linked CustomerFinder</h4>
<p>
  With Kotlin we have the finder as a <code>companion object</code>.
</p>
```java
...

@Entity
class Customer(

  ...
  companion object Find : CustomerFinder()
}

```

<h4>Example Finder use</h4>
<p>
  With the CustomerFinder linked as a field to Customer we can then easily use it.
</p>
```java
// find by id
val customer = Customer.byId(1L)

// reference
val customerReference = Customer.ref(1L)

val customers = Customer.query()
  .where()
  .istartsWith("name", "hello")
  .findList();

// generally it is recommended that we move "find logic" for Customer
// into the CustomerFinder so instead we should create a "byName" method
// on CustomerFinder and end up with:

val customers = Customer.byName("hello");
```


<@next "Next steps" "/docs/getting-started/kotlin-next-steps"/>
<@edit "/docs/getting-started/kotlin-finder.html"/>

</body>
</html>

<html>
<head>
  <title>Testing with ElasticSearch</title>
  <meta name="layout" content="_layout/docs.html"/>
  <meta name="bread1" content="Testing" href="/docs/testing/"/>
  <meta name="bread2" content="ElasticSearch" href="/docs/testing/"/>
  <template id="menuNav"><#include "/_layout/_docs_nav_testing.ftl"></template>
  <#assign elastic="active">
</head>
<body>
<h2>Elastic</h2>
<p>
  To test against ElasticSearch we can set the <code>elastic version</code> property like
  the example below which will then start Elastic as a docker container automatically.
</p>
```sh
ebean:
  test:
#    useDocker: false
#    shutdown: stop # stop | remove
    platform: h2 # h2, postgres, mysql, oracle, sqlserver, sqlite
    ddlMode: dropCreate # none | dropCreate | create | migration | createOnly | migrationDropCreate
    dbName: myapp

  docstore:
    url: http://127.0.0.1:9201
    active: true
    generateMapping: true
    dropCreate: true

    elastic:
      version: 5.6.0
      port: 9201

```
<p>
  In terms of logging we can see:
</p>
```sh
21:57:06.587 INFO  io.ebean.docker.commands.Commands - Start container ut_elastic with port:9201
```


<h3><a id="options">Properties</a></h3>

<table class="table">
  <tr>
    <th>Property</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>ebean.docstore.active</td>
    <td>Set to true to enable docstore use</td>
  </tr>
  <tr>
    <td>ebean.docstore.url</td>
    <td>URL that ElasticSearch is expected to be using</td>
  </tr>
  <tr>
    <td>ebean.docstore.generateMapping</td>
    <td>When true generate the index mapping</td>
  </tr>
  <tr>
    <td>ebean.docstore.dropCreate</td>
    <td>When true drop the indexes and recreate them</td>
  </tr>
</table>

<p>
  For more <a href="/docs/features/elasticsearch">details on the ElasticSearch</a>.
</p>

<div class="next pull-right">
  <a href="/docs/testing/postgres" class="btn btn-info">Next: Postgres</a>
</div>

</body>
</html>

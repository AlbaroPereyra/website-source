<html>
<head>
  <meta name="layout" content="_layout/docs_query_select.html"/>
  <meta name="bread2" content="OrderBy" href="/docs/query/orderBy"/>
  <#assign orderBy= "true">
</head>
<body>

<h2 id="orderby">OrderBy</h2>
<p>
  Query bean properties have <code>asc()</code> and <code>desc()</code> methods such that they
  are added to the orderBy clause.
</p>
```java
List<|Customer> customers =
  new QCustomer()
    .status.in(Status.NEW, Status.ACTIVE)
    .orderBy()
      .name.desc() // order by t0.name desc
    .findList();
```
<p>
  Produces the SQL below:
</p>
```sql
select ...
from customer t0
where t0.status in (?, ?)
order by t0.name desc
```
<p>
  We can add multiple properties to the orderBy clause.
</p>
```java
List<|Customer> customers =
  new QCustomer()
    .status.in(Status.NEW, Status.ACTIVE)
    .orderBy()
      .name.desc()
      .id.asc()
    .findList();
```
<h4>Standard orderBy</h4>
<p>
  For standard queries we use <code>orderBy().desc()</code> or <code>orderBy().asc()</code>
  which also can be chained. The same query as above is written without query beans as:
</p>
```java
List<|Customer> customers =
  ebeanServer.find(Customer.class)
    .where().in("status"), Status.NEW, Status.ACTIVE)
    .orderBy()
      .desc("name")
      .asc("id")
    .findList();
```

<h2 id="orderByExpression" class="art">OrderBy expression</h2>
<p>
  We can specify an order by expression which can include sql formula via <code>orderBy(string)</code>.
</p>

<h5>e.g. simple expression</h5>
```java
  new QCustomer()
    .orderBy("name asc,status desc")
    .findList()
```

<h5>e.g. expression using DB function</h5>
```java
List<|Customer> customers =
  new QCustomer()
    .status.in(Status.NEW, Status.ACTIVE)
    .orderBy("coalesce(activeDate, now()) desc, name, id")
    .findList();
```

<h2 id="nulls" class="art">Nulls high, Nulls low</h2>
<p>
  The order by expression can include <code>nulls high</code> or <code>nulls low</code>.
</p>
```java
List<|Customer> customers =
  new QCustomer()
    .orderBy("name nulls high, id desc")
    .findList();
```

<h2 id="collate" class="art">Collate</h2>
<p>
  We can specify the <code>collate</code> to use via <code>asc()</code> and <code>desc()</code>.
</p>
```java
List<|Customer> customers =
  new QCustomer()
    .orderBy()
      .asc("name", "latin_2");
      .desc("id", "latin_1");
    .findList();
```

<@next "Select" "/docs/query/select"/>
<@edit "/docs/query/orderBy"/>

</body>
</html>

<html>
<head>
  <meta name="layout" content="_layout/docs_query_select.html"/>
  <meta name="bread2" content="Query beans" href="/docs/query/query-beans"/>
  <#assign querybeans="true">
</head>
<body>

  <h2 id="querybeans">Query beans</h2>
  <p>
    Query beans are optional but they provide a nice way to write queries that
    is type safe but also easier to learn and use as the IDE helps us to
    write query expressions with auto-completion on properties and expressions.
  </p>

  <p>
    Query beans are generated using a Java annotation processor - <code>APT</code> or
    Kotlin annotation processor - <code>KAPT</code>.
  </p>
  <p>
    When the entity bean model changes
    the query beans are regenerated and as developers we get compile time checking on
    our application queries - we get a compile time error if our queries are no longer
    valid for the model.
  </p>

  <h2 id="apt">APT / KAPT</h2>

  <p>
    To generate <code>Java</code> query beans we use the <em>io.ebean : querybean-generator</em>
    java annotation processor and to generate <code>Kotlin</code> query beans we use
    <em>io.ebean : kotlin-querybean-generator</em>.
  </p>

  <h2 id="enhancement">Enhancement</h2>

  <p>
    Query beans require enhancement to work. In the <code>ebean.mf</code> manifest file
    we need to specify via <code>querybean-packages</code> the packages that should be enhanced
    for query beans.
  </p>

  <p>
    Note that for Java we additionally need to enhance the code that calls the query ebeans.
    For Kotlin we only need to enhance the query beans themselves.
  </p>

  <h4>Example</h4>
  ```properties
  entity-packages: org.example.domain
  transactional-packages: org.example
  querybean-packages: org.example
  ```

  <h2 id="maven">Generating with Maven</h2>
  <p>
    Refer to <a href="/docs/getting-started/maven-querybeans">docs / getting-started / maven query beans</a>
    for details of how to generate query beans using maven.
  </p>

  <h2 id="gradle">Generating with Gradle</h2>
  <p>
    Refer to <a href="/docs/getting-started/gradle-querybeans">docs / getting-started / gradle query beans</a>
    for details of how to generate query beans using gradle.
  </p>


  <@next "Where" "/docs/query/where"/>
  <@edit "/docs/query/query-beans"/>

</body>
</html>

<html>
<head>
  <meta name="layout" content="_layout/docs_query_select.html"/>
  <meta name="bread2" content="select" href="/docs/query/select"/>
  <#assign select= "true">
</head>
<body>
<h3>select</h3>
<p>
  <code>select</code> allows us to control the properties that are fetched. We can specify only selected
  properties to fetch.
</p>
```java
List<Customer> customers =
  query()
    .select("name, registered, version")
    .findList();
```
<p>
  With the above we specify the properties we want to fetch. We still get Customer entity beans returned
  but they are <b>partially populated</b>.
</p>
<p>
  The SQL generated by the above query has:
</p>
```sql
  select t0.id, t0.name, t0.registered, t0.version from customer t0
```
<p>
  Note that the <code>@Id</code> property is automatically included for most queries and it is
  automatically exludeded for <b>distinct</b>, <b>findSingleAttribute</b> and <b>aggregation</b> queries.
</p>

<p>&nbsp;</p>

<h4>Example - single attribute</h4>
```java
  List<String> names =

    query()
      .select("lastName")
      .findSingleAttributeList();
```

<h4>Example - aggregate single attribute</h4>
```java
String maxName =

  query()
    .select("max(lastName)")
    .findSingleAttribute();
```
<!--sql-->
<!--select max(t0.last_name) from contact t0-->
<!---->

<h4>Example - select formula</h4>
```java
List<String> names =

  query()
    .select("concat(lastName,', ',firstName)")
    .findSingleAttributeList();
```

<h4>Example - select formula, Postgis ST_Distance</h4>
<p>
  With this example we explicitly cast to a Java BigDecimal type using
  the <code>::BigDecimal</code> cast at the end of the formula.
</p>
```java
// given route is a Postgis geometry(linestring,4326)
// return the distance between the start and end points

BigDecimal routeDistance = query()
  .select("ST_Distance(ST_StartPoint(route), ST_EndPoint(route))::BigDecimal")
  .where()
  .idEq(tripId)
  .findSingleAttribute();
```

<h4>Example - count distinct</h4>
```java
int count =

  query()
    .setDistinct(true)
    .select("lastName")
    .findCount();
```
```sql
select count(distinct t0.last_name) from contact t0
```
<h4>Example - aggregation</h4>
```java
List<Machine> machineStats =

  query()
    .select("date, sum(distance), sum(hours)")
    .findList();
```
```sql
select t0.date, sum(t0.distance), sum(t0.hours)
from d_machine_stats t0
group by t0.date
```


</body>
</html>
